
{% extends 'base.html' %}

{% block content %}

{% load static %}


<div class="container" style="margin-top: 40px; ">
  <div class="card" style="width: 100%; justify-content: center; margin-top: 55px; ">

<div class="card-header">
    <h2 class="mb-0">Registrar Revista</h2>
  </div>

  <div class="card-body" style=" max-height: 800px; display: flex; justify-content: center;">

 <form method="POST" class="form">
     {% csrf_token %}
     <div class="row">
         <div class="col-md-6">
             <div class="form-group">
                 <label for="{{ form.issn_e.id_for_label }}">ISSN:</label>
                 {{ form.issn_e }}
             </div>

<div class="form-group">
    <label for="{{ form.pais.id_for_label }}">País:</label>
    {{ form.pais }}
  </div>

  <div class="form-group">
    <label for="{{ form.idioma.id_for_label }}">Idioma:</label>
    {{ form.idioma }}
  </div>

  <div class="form-group">
    <label for="{{ form.editores.id_for_label }}">Editores:</label>
    {{ form.editores }}
  </div>
</div>

<div class="col-md-6">


  <div class="form-group">
    <label for="{{ form.subclasificacion.id_for_label }}">Subclasificaciones:</label>
    {{ form.subclasificacion }}
  </div>

  <div class="form-group">
    <label for="{{ form.autores.id_for_label }}">Autores:</label>
    {{ form.autores }}
  </div>

  <div class="form-group">
    <label for="{{ form.arbitraje.id_for_label }}">Arbitraje:</label>
    {{ form.arbitraje }}
  </div>
</div>

         <div class="container" style="margin-top: 1%; width: 100%">
    <label for="{{ form.descripcion.id_for_label }}">Descripción:</label>
    {{ form.descripcion }}
</div>

</div>
<div class="d-flex justify-content-center align-items-center" style="margin-bottom: 50px">
  <button type="submit" class="btn btn-primary btn-lg mr-3">Guardar</button>
  <button class="btn btn-lg btn-secondary btn-lg mr-3r" style="width: 140px; height: 45px; font-size: 16px;" onclick="goBack()">Atrás</button>
</div>


</form>
  </div>
</div>
</div>

<script>
    document.getElementById('my-form').addEventListener('submit', function(event) {
        var issnInput = document.getElementById('id_issn_e');
        var issnValue = issnInput.value.trim();

        var numberRegex = /^[0-9]+$/;

        if (issnValue.length !== 8 || !numberRegex.test(issnValue)) {
            event.preventDefault();
            alert('Ingrese un ISSN válido de 8 dígitos.');
            return false;
        }
    });
     function goBack() {
  history.back();
}
</script>

{##}
{#    <script>#}
{##}
{#   function limitarSeleccion(select) {#}
{#    var opciones = select.options;#}
{#    for (var i = 0; i < opciones.length; i++) {#}
{#        opciones[i].selected = false;#}
{#    }#}
{#    select.options[select.selectedIndex].selected = true;#}
{#}#}
{##}
{#</script>#}
{##}
{#    <!-- Enlaza los archivos JavaScript de Chosen -->#}
{##}
{#<script src="{% static 'multiselect-12/js/jquery-3.3.1.min.js' %}"></script>#}
{#<script src="{% static 'multiselect-12/js/bootstrap.min.js' %}"></script>#}
{#    <script src="{% static 'select2.min.js' %}"></script>#}
{#<script src="{% static 'multiselect-12/js/main.js' %}"></script>#}
{#<script src="{% static 'multiselect-12/js/popper.min.js' %}"></script>#}


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js"></script>

<script>
    $(document).ready(function() {
        $('select[multiple]').selectpicker({
            liveSearch: true,
            actionsBox: true
        });
    });
</script>

{% endblock %}

